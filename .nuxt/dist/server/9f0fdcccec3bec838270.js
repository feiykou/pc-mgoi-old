exports.ids=[20],exports.modules={120:function(t,e){},121:function(t,e){},122:function(t,e){},123:function(t,e,r){"use strict";var c={name:"product-item",props:{productData:Object,simple:{type:Boolean,default:!1},label:{type:Boolean,default:!0},width:{type:String}}},d=r(3);var component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-item-wrap"},[t._ssrNode('<div class="img hover-class" data-v-1a9b8e29>',"</div>",[r("nuxt-link",{attrs:{to:"/product/"+t.productData.id}},[r("img",{attrs:{src:t.productData.main_img_url[0],alt:"",srcset:""}})])],1),t._ssrNode(" "),t._ssrNode('<div class="tit-price" data-v-1a9b8e29>',"</div>",[t._ssrNode('<p class="tit" data-v-1a9b8e29>',"</p>",[r("nuxt-link",{attrs:{to:"/product/"+t.productData.id}},[t._v(t._s(t.productData.name))])],1),t._ssrNode(" "+(t.label?'<p class="label" data-v-1a9b8e29>'+t._ssrEscape(t._s(t.productData.name_desc))+"</p>":"\x3c!----\x3e")+' <p class="price" data-v-1a9b8e29>'+t._ssrEscape("￥"+t._s(t.productData.price)+" 蚊")+"</p>")],2),t._ssrNode(" "),t.simple?t._e():r("m-button",{attrs:{name:"查看详情",type:"hellow-primary",size:"size",to:"/product/"+t.productData.id}})],2)}),[],!1,(function(t){var e=r(124);e.__inject__&&e.__inject__(t)}),"1a9b8e29","ea3fd132");e.a=component.exports},124:function(t,e,r){"use strict";r.r(e);var c=r(120),d=r.n(c);for(var n in c)"default"!==n&&function(t){r.d(e,t,(function(){return c[t]}))}(n);e.default=d.a},125:function(t,e,r){"use strict";r.r(e);var c=r(121),d=r.n(c);for(var n in c)"default"!==n&&function(t){r.d(e,t,(function(){return c[t]}))}(n);e.default=d.a},126:function(t,e,r){"use strict";r.r(e);var c=r(122),d=r.n(c);for(var n in c)"default"!==n&&function(t){r.d(e,t,(function(){return c[t]}))}(n);e.default=d.a},129:function(t,e,r){"use strict";var c=r(118),d={props:{counts:{type:Number,default:8}},components:{ContentLoader:c.ContentLoader}},n=r(3);var o=Object(n.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"product-list"},[t._l(t.counts,(function(e,c){return t._ssrNode("<li data-v-71d7748d>","</li>",[r("content-loader",{attrs:{height:371,width:222,speed:2,primaryColor:"#d4d4d4",secondaryColor:"#ecebeb"}},[r("rect",{attrs:{x:"0",y:"0",rx:"0",ry:"0",width:"222",height:"222"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"242.27",rx:"0",ry:"0",width:"190",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"268.27",rx:"0",ry:"0",width:"53",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"300.27",rx:"0",ry:"0",width:"110",height:"16"}}),t._v(" "),r("rect",{attrs:{x:"0",y:"335.27",rx:"0",ry:"0",width:"234",height:"51"}})])],1)})),t._ssrNode(" <li data-v-71d7748d></li> <li data-v-71d7748d></li> <li data-v-71d7748d></li>")],2)}),[],!1,(function(t){var e=r(125);e.__inject__&&e.__inject__(t)}),"71d7748d","04b719fe").exports,l=r(123),_=r(37),h={name:"page-product-list",components:{ProductListLoading:o,ProductItem:l.a},data:()=>({curPriceIndex:0,count:10,products:[],timer:null,loading:!1}),props:{options:Array,name:String,totalNum:Number},created(){this.count=_.a},watch:{options:{immediate:!0,handler(t){clearTimeout(this.timer),this.products=[],this.loading=!1,this.timer=setTimeout(()=>{this.products=t,this.loading=!0},300)}}},methods:{priceSort(t){const e=t.currentTarget.dataset.index;this.curPriceIndex=e,this.$emit("sortTap",e)},curChange(t){this.$emit("change",t)}}};var m=Object(n.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-wrap"},[t._ssrNode('<div class="filter-wrap" data-v-2caf7788>'+(t.name?"\x3c!----\x3e":'<div class="product-num" data-v-2caf7788>'+(t.products?"<span data-v-2caf7788>"+t._ssrEscape(t._s(t.products.length)+"件商品")+"</span>":"\x3c!----\x3e")+"</div>")+' <div class="product-tit" data-v-2caf7788>'+t._ssrEscape(t._s(t.name))+'</div> <dl class="filter-list" data-v-2caf7788><dt data-v-2caf7788>排序方式：</dt> <dd'+t._ssrAttr("data-index",1)+t._ssrClass(null,{active:1==t.curPriceIndex})+" data-v-2caf7788>价格高至低</dd> <dd"+t._ssrAttr("data-index",2)+t._ssrClass(null,{active:2==t.curPriceIndex})+" data-v-2caf7788>价格低至高</dd></dl></div> "),t._ssrNode('<div class="product-list-wrap" data-v-2caf7788>',"</div>",[t.loading?t._ssrNode('<div class="product-list" data-v-2caf7788>',"</div>",[t._l(t.products,(function(t,e){return r("product-item",{key:e,attrs:{productData:t}})})),t._ssrNode(" <div data-v-2caf7788></div> <div data-v-2caf7788></div> <div data-v-2caf7788></div>")],2):r("ProductListLoading")],1),t._ssrNode(" "),t.totalNum>0?t._ssrNode('<div class="pagination-wrap" data-v-2caf7788>',"</div>",[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.count,total:t.totalNum},on:{"current-change":t.curChange}})],1):t._e()],2)}),[],!1,(function(t){var e=r(126);e.__inject__&&e.__inject__(t)}),"2caf7788","55cf7574");e.a=m.exports},139:function(t,e,r){"use strict";var c=r(1);e.a={getThemeDetail(t){if(!(t<=0))return c.a.fetchGet(`theme/${t}/detail`)},getThemeCate:(t=0,e=2)=>c.a.fetchGet(`themeCate/${t}?times=${e}`),getCateThumb:(t=0)=>c.a.fetchGet(`themeCate/crumb?id=${t}`),getCurCate:(t=0)=>c.a.fetchGet(`themeCate?id=${t}`),getThemeList:t=>c.a.fetchGet(`theme/list?cate_id=${t}`)}},162:function(t,e){},192:function(t,e,r){"use strict";r.r(e);var c=r(162),d=r.n(c);for(var n in c)"default"!==n&&function(t){r.d(e,t,(function(){return c[t]}))}(n);e.default=d.a},221:function(t,e,r){"use strict";r.r(e);r(56);var c=r(139),d={layout:"main",watchQuery:["cate_id"],data:()=>({cateData:null,productData:[],themeData:[],pLoading:!0,allData:null,thumbData:[],rescCateData:null}),components:{pageProductList:r(129).a},created(){const t=this.$route.query.cate_id;this.getThemeAndProduct(t),this.getCateThumb(t)},validate:({query:t})=>/^\d+$/.test(t.cate_id),async asyncData({isDev:t,route:e,store:r,env:d,params:n,query:o,req:l,res:_,redirect:h,error:m}){const v=o.cate_id;let f=await c.a.getCurCate(v);return f||m({statusCode:404,message:"页面加载失败，请重新加载"}),{cateData:f}},fetch({store:t}){t.dispatch("cate/getCategoryCate")},watch:{$route:function(t){let e=t.query.cate_id;this.getCateThumb(e),this.getThemeAndProduct(e)}},methods:{async getThemeAndProduct(t){let e=await c.a.getThemeList(t);this.productData=e.product,this.themeData=e.theme,this.pLoading=!1},priceSort(t){const e=t;this.sortPrice(this.productData,Number(e))},sortPrice(t,e=0){let[r,c]=this.productSortsolve(t);1===e&&(r=r.sort((function(a,b){return a-b}))),2===e&&(r=r.sort((function(a,b){return b-a})));let d=[];for(let i=0;i<r.length;i++)for(let t=0;t<c.length;t++){const e=r[i];c[t][e]&&d.push(c[t][e])}this.productData=d},productSortsolve(t=[]){let e={},r=[],c=[];return t.forEach(t=>{t.price=parseFloat(t.price),e[t.price]=t,r.push(e),c.push(t.price),e={}}),[c,r]},getCateThumb(t){c.a.getCateThumb(t).then(t=>{t&&t.length>0&&this.getRescCate(t[0].id),this.thumbData=t})},getRescCate(t){c.a.getThemeCate(t,0).then(t=>{this.rescCateData=t})}}},n=r(3);var component=Object(n.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container theme-list-container content main-section"},[t._ssrNode('<div class="cate-wrap menu-left-wrap">',"</div>",[r("Menu")],1),t._ssrNode(" "),t._ssrNode('<div class="theme-box content-right-wrap">',"</div>",[t._ssrNode('<h1 class="head-tit font26">'+t._ssrEscape("唔该文创创意之"+t._s(t.cateData.name))+"</h1> "),r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),t._l(t.thumbData,(function(e,c){return r("el-breadcrumb-item",{key:c,staticClass:"crumb-item",attrs:{"data-index":c,to:c!=t.thumbData.length-1?"/theme":""}},[t._v(t._s(e.name))])}))],2),t._ssrNode(" "),t._ssrNode('<div class="theme-list-wrap">',"</div>",[t._ssrNode('<div class="section cate-section">'+(t.cateData.main_img_url.length>1?'<div class="head-img"><img'+t._ssrAttr("src",t.cateData.main_img_url[1])+" alt></div>":"\x3c!----\x3e")+' <div class="desc-txt"><p>'+t._ssrEscape(t._s(t.cateData.introduce)+"大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所大声道萨达所")+"</p></div></div> "),t._l(t.themeData,(function(e,c){return t._ssrNode('<div class="section list-section">',"</div>",[t._ssrNode('<h2 class="tit">'+t._ssrEscape(t._s(e.name))+'</h2> <div class="desc-wrap"><p>'+t._ssrEscape(t._s(e.description))+'</p></div> <div class="img"><img'+t._ssrAttr("src",e.main_img_url[0])+" alt></div> "),t._ssrNode('<ul class="theme-product-list">',"</ul>",t._l(e.product,(function(e,c){return c<=2?t._ssrNode("<li>","</li>",[r("nuxt-link",{attrs:{to:"/product/"+e.id}},[r("img",{attrs:{src:e.main_img_url[0],alt:""}}),t._v(" "),r("div",{staticClass:"tit-desc"},[r("p",{staticClass:"tit"},[t._v(t._s(e.name))]),t._v(" "),r("p",{staticClass:"desc"},[t._v(" "+t._s(e.description)+" ")])])])],1):t._e()})),0),t._ssrNode(" "),r("m-button",{staticClass:"theme-list-btn",attrs:{to:"/theme/"+e.id,name:e.name+"详情",type:"gray",size:"size"}})],2)}))],2),t._ssrNode(" "),r("page-product-list",{staticClass:"theme-list-product",attrs:{options:t.productData},on:{sortTap:t.priceSort}})],2)],2)}),[],!1,(function(t){var e=r(192);e.__inject__&&e.__inject__(t)}),null,"f88daa2e");e.default=component.exports}};