(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{363:function(t,e,r){},394:function(t,e,r){"use strict";var n=r(363);r.n(n).a},428:function(t,e,r){"use strict";r.r(e);r(59),r(25);var menu=r(342),n=r(376),c=r(329),o=r(135),main=r(187),d={watchQuery:["id"],data:function(){return{cateData:null,productsData:null,crumbArr:[{name:"礼物分类",id:0}],curName:"礼物分类",curCateId:0,curPriceIndex:0}},components:{Menu:menu.default,CateLoading:n.a,pageProductList:c.a},asyncData:function(t){var e,r,n,c,d,l,m,h,f,v,C;return regeneratorRuntime.async((function(_){for(;;)switch(_.prev=_.next){case 0:return t.app,e=t.query,r=t.store,n=t.error,c=e.id,d=null,l=null,m="礼物分类",_.next=5,regeneratorRuntime.awrap(o.a.getProductBySonAndCate(c));case 5:return d=_.sent,_.next=8,regeneratorRuntime.awrap(o.a.getGiftSonCate(c));case 8:return l=_.sent,h=r.state.gift.crumbCate,f=[],v={},C=[{name:"礼物分类",id:0}],h.forEach((function(t,e){e>=1&&(h.length-1===e&&(m=t.name),v.name=t.name,v.id=t.id,f.push(v),v={})})),l||n({statusCode:404,message:"页面加载失败，请重新加载"}),_.abrupt("return",{cateData:l,productsData:d.data,crumbArr:[].concat(C,f),curName:m,curCateId:c});case 14:case"end":return _.stop()}}))},fetch:function(t){var e=t.store,r=t.query.id||0;e.dispatch("cate/getCategoryCate"),e.dispatch("gift/getParentCate",r)},head:function(){return this.$seo("产品列表 - 唔该","正处于萌芽阶段")},methods:{priceSort:function(t){var e=t.currentTarget.dataset.index;this.curPriceIndex=e,this.getProductsByCate(this.curCateId,e)},cateTap:function(t){var e=t.currentTarget.dataset.id,r=t.currentTarget.dataset.name;this.curName=r,this.crumbArr.push({id:e,name:r}),this._loadData(e)},crumbTap:function(t){var e=t.currentTarget.dataset.index,r=this.crumbArr;r=r.slice(0,1*e+1),this.curName=r[e].name,this.crumbArr=r,this._loadData(r[e].id)},_loadData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.curCateId=t,this.getSonCate(t),this.getProductsByCate(t)},getSonCate:function(t){var e=this;this.cateData=null,o.a.getGiftSonCate(t).then((function(t){Object(main.setTimeout)((function(){e.cateData=t}),600)}))},getProductsByCate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.productsData=null,o.a.getProductBySonAndCate(e,r).then((function(e){Object(main.setTimeout)((function(){t.productsData=e.data}),600)}))}}},l=(r(394),r(10)),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"content main-section product-list-section"},[r("div",{staticClass:"cate-wrap menu-left-wrap"},[r("Menu")],1),t._v(" "),r("transition",{attrs:{name:"slide-fade",appear:"",duration:2e3}},[r("div",{staticClass:"product-section"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),t._l(t.crumbArr,(function(e,n){return r("el-breadcrumb-item",{key:n,class:{"crumb-item":n<t.crumbArr.length-1},attrs:{"data-index":n},nativeOn:{click:function(e){return t.crumbTap(e)}}},[t._v(t._s(e.name))])}))],2),t._v(" "),r("div",{staticClass:"cate-container"},[r("div",{staticClass:"current-name"},[t._v(t._s(t.curName))]),t._v(" "),r("div",{staticClass:"cate-sec"},[t.cateData?r("ul",{staticClass:"cate-list"},t._l(t.cateData,(function(e,n){return r("li",{key:n,attrs:{"data-id":e.id,"data-name":e.name},on:{click:t.cateTap}},[r("div",{staticClass:"wrap"},[r("span",[t._v(t._s(e.name))]),t._v(" "),r("div",{staticClass:"img"},[r("img",{attrs:{src:e.img_url[0],alt:""}})])])])})),0):r("CateLoading")],1)]),t._v(" "),r("page-product-list",{attrs:{options:t.productsData}})],1)])],1)])}),[],!1,null,null,null);e.default=component.exports}}]);